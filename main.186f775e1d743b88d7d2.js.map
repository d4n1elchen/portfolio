{"version":3,"file":"main.186f775e1d743b88d7d2.js","mappings":"mBAAO,SAASA,EAAWC,GACzB,OAAOA,EACJC,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,UAGZ,SAASC,EAAiBC,GAC/B,OAAOA,EAAIF,QAAQ,MAAO,QCJf,ICKb,WAYE,WACEG,EACAC,EACAC,GAEA,GAAKF,EAAL,CAIAG,KAAKH,QAAUA,EACfG,KAAKF,SAAWA,EAChBE,KAAKD,SAAWA,EAChBC,KAAKC,IAAM,IAEXD,KAAKE,SAAW,IAAIC,IAEpB,IAAIC,EAAOJ,KAGXA,KAAKK,WAAW,CACdC,KAAM,OACNC,SAAU,WACR,OAAOH,EAAKI,WAEdC,KAAM,oDAGRT,KAAKK,WAAW,CACdC,KAAM,QACNC,SAAU,WAER,OADAH,EAAKM,QAAU,GACR,IAETD,KAAM,qCAIRE,SAASC,iBAAiB,WAAW,SAAUC,GAC7C,GAAkB,cAAdA,EAAMC,IACRV,EAAKW,MAAQX,EAAKW,MAAMC,MAAM,GAAI,QAC7B,GAAkB,UAAdH,EAAMC,IAAiB,CAChCV,EAAKM,SAAWlB,EAAWY,EAAKW,OAAS,OACzC,IAAIE,EAAMb,EAAKc,YAAYd,EAAKW,OAChCX,EAAKM,SAAWO,EAAMb,EAAKe,YAC3Bf,EAAKW,MAAQ,QACgB,GAApBF,EAAMC,IAAIM,SACnBhB,EAAKW,OAASF,EAAMC,KAEtBV,EAAKiB,WAIPrB,KAAKU,QAAUV,KAAKsB,gBAAkBtB,KAAKmB,YAC3CnB,KAAKe,MAAQ,GACbf,KAAKqB,SA8ET,OA3EE,YAAAA,MAAA,WACErB,KAAKH,QAAQ0B,UAAYvB,KAAKwB,QAC5BxB,KAAKU,QAAUlB,EAAWQ,KAAKe,OAASf,KAAKyB,YAC7C,kBAEFzB,KAAKH,QAAQ6B,UAAY1B,KAAKH,QAAQ8B,cAGxC,YAAAH,QAAA,SAAQD,EAAmBK,GACzB,MAAO,eAAeA,EAAS,KAAKL,EAAS,UAG/C,YAAAD,cAAA,WACE,OAAO3B,EACLH,EAAW,qWAQT,wHAIN,YAAAgB,QAAA,WACE,OAAOb,EACL,wEAAwEkC,MAAMC,KAC5E9B,KAAKE,UAEJ6B,KAAI,SAAC,G,IAACjB,EAAG,KAAS,OAAN,KAAMA,KAClBkB,KAAK,MAAK,gEAIjB,YAAAb,UAAA,WACE,MAAO,sBAAsBnB,KAAKF,SAAQ,IAAIE,KAAKD,SAAQ,wDAAwDC,KAAKC,IAAG,0CAG7H,YAAAwB,UAAA,WACE,MAAO,iCAGT,YAAApB,WAAA,SAAW4B,GACT,QAAqBC,IAAjBD,EAAI1B,eAAuC2B,IAAbD,EAAIE,KACpC,MAAM,IAAIC,MAAM,kDAElBpC,KAAKE,SAASmC,IAAIJ,EAAI3B,KAAM2B,IAG9B,YAAAf,YAAA,SAAYH,GACV,IAAIuB,EAAOvB,EAAMwB,MAAM,KACnBC,EAAcF,EAAKG,OAAO,EAAG,GAAG,GACpC,GAAIzC,KAAKE,SAASwC,IAAIF,GAAc,CAClC,IAAIG,EAAU3C,KAAKE,SAAS0C,IAAIJ,GAChC,MAAe,QAAXF,EAAK,QACcJ,IAAjBS,EAAQlC,KACHd,EAAiBgD,EAAQlC,MAEzB,+DAGLkC,EAAQpC,SACHoC,EAAQpC,SAAS+B,GAEjB3C,EAAiBgD,EAAQR,MAG/B,OAA2B,IAAvBK,EAAYpB,OACd,GAEA,sBAAsB5B,EAAWgD,GAAY,QAG1D,EAhJA,GDLa,CADG7B,SAASkC,eAAe,QACT,SAAU,OAEpCxC,WAAW,CACdC,KAAM,QACNC,SAAU,WACR,OAAOZ,EAAiB,o5BAS1Bc,KAAM,wD","sources":["webpack://portfolio/./src/term/utils.ts","webpack://portfolio/./src/index.ts","webpack://portfolio/./src/term/term.ts"],"sourcesContent":["export function escapeHtml(unsafe: string) {\n  return unsafe\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/ /g, \"&nbsp;\")\n    .replace(/'/g, \"&#039;\");\n}\n\nexport function replaceLineBreak(str: string) {\n  return str.replace(/\\n/g, \"<br>\");\n}\n","import { Term } from \"./term/term\";\nimport { replaceLineBreak } from \"./term/utils\";\n\nimport \"normalize.css\";\nimport \"./index.scss\";\n\nconst termDiv = document.getElementById(\"term\") as HTMLDivElement;\nconst term = new Term(termDiv, \"daniel\", \"usc\");\n\nterm.addCommand({\n  name: \"about\",\n  callback: () => {\n    return replaceLineBreak(`Hi, my name is Daniel Chen. I’m currently a Computer Science master student from University of Southern California. I graduated from Dept. of Mechanical Engineering, National Cheng-Kung University (NCKU), Taiwan. I’m interested in rhythm games and programming. I watch Japanese anime and conmic in my free time.\n\nMy research interests are: web development, DevOps, streaming technology, and math. In my blog, I’ll post some learning notes. Notes and tutorials will be posted in English. Reviews and jottings will be in Chinese. However, some materials that already has abundant English resource or some topics including important conceptional explaination will be written in Chinese. You are welcome to leave comments to discuss.\n\nBlog: <a href=\"https://blog.danielchen.cc/\">https://blog.danielchen.cc/</a>\nLinkedIn: <a href=\"https://www.linkedin.com/in/d4n1el/\">https://www.linkedin.com/in/d4n1el/</a>\n\n`);\n  },\n  help: \"Usage:  about\\n\\nPrint some information about me\\n\",\n});\n","import { Nullable } from \"./types\";\n\nimport \"./term.scss\";\nimport { escapeHtml, replaceLineBreak } from \"./utils\";\n\nexport interface Command {\n  name: string;\n  text?: string;\n  callback?: (args: string[]) => string;\n  help?: string;\n}\n\nexport class Term {\n  termDiv: HTMLDivElement;\n  printed: string;\n  input: string;\n\n  username: string;\n  hostname: string;\n\n  cwd: string;\n\n  commands: Map<string, Command>;\n\n  constructor(\n    termDiv: Nullable<HTMLDivElement>,\n    username: string,\n    hostname: string\n  ) {\n    if (!termDiv) {\n      return;\n    }\n\n    this.termDiv = termDiv;\n    this.username = username;\n    this.hostname = hostname;\n    this.cwd = \"~\";\n\n    this.commands = new Map<string, Command>();\n\n    let self = this;\n\n    // Add utility commands\n    this.addCommand({\n      name: \"help\",\n      callback: () => {\n        return self.getHelp();\n      },\n      help: \"Usage:  help\\n\\nPrint all available commands.\\n\",\n    });\n\n    this.addCommand({\n      name: \"clear\",\n      callback: () => {\n        self.printed = \"\";\n        return \"\";\n      },\n      help: \"Usage:  clear\\n\\nClear screen.\\n\",\n    });\n\n    // Capture keyboard input\n    document.addEventListener(\"keydown\", function (event) {\n      if (event.key === \"Backspace\") {\n        self.input = self.input.slice(0, -1);\n      } else if (event.key === \"Enter\") {\n        self.printed += escapeHtml(self.input) + \"<br>\";\n        let res = self.execCommand(self.input);\n        self.printed += res + self.getPrompt();\n        self.input = \"\";\n      } else if (event.key.length == 1) {\n        self.input += event.key;\n      }\n      self.print();\n    });\n\n    // Print welcome message and prompt\n    this.printed = this.getWelcomeMsg() + this.getPrompt();\n    this.input = \"\";\n    this.print();\n  }\n\n  print() {\n    this.termDiv.innerHTML = this.wrapDiv(\n      this.printed + escapeHtml(this.input) + this.getCursor(),\n      \"term-container\"\n    );\n    this.termDiv.scrollTop = this.termDiv.scrollHeight;\n  }\n\n  wrapDiv(innerHTML: string, className: string) {\n    return `<div class=\"${className}\">${innerHTML}</div>`;\n  }\n\n  getWelcomeMsg() {\n    return replaceLineBreak(\n      escapeHtml(`\n _____              _      _    _____ _                \n|  __ \\\\            (_)    | |  / ____| |               \n| |  | | __ _ _ __  _  ___| | | |    | |__   ___ _ __  \n| |  | |/ _\\` | '_ \\\\| |/ _ \\\\ | | |    | '_ \\\\ / _ \\\\ '_ \\\\\n| |__| | (_| | | | | |  __/ | | |____| | | |  __/ | | |\n|_____/ \\\\__,_|_| |_|_|\\\\___|_|  \\\\_____|_| |_|\\\\___|_| |_|\n`) +\n        \"\\nNice to meet you! My name is <mark>Daniel Chen</mark>!\\n\\nType 'help' and hit enter to get available commands\\n\\n\"\n    );\n  }\n\n  getHelp() {\n    return replaceLineBreak(\n      `Welcome to Daniel's personal website!\\n\\nCurrent supported commands: ${Array.from(\n        this.commands\n      )\n        .map(([key, _]) => key)\n        .join(\", \")}\\n\\nType '[COMMAND] help' to get help for each commands\\n\\n`\n    );\n  }\n\n  getPrompt() {\n    return `<span class=\"host\">${this.username}@${this.hostname}</span><span class=\"colon\">:</span><span class=\"cwd\">${this.cwd}</span> <span class=\"dollar\">$</span> `;\n  }\n\n  getCursor() {\n    return `<span class=\"cursor\">█</span>`;\n  }\n\n  addCommand(cmd: Command) {\n    if (cmd.callback === undefined && cmd.text === undefined) {\n      throw new Error(\"Either `callback` or `text` should be defined.\");\n    }\n    this.commands.set(cmd.name, cmd);\n  }\n\n  execCommand(input: string) {\n    let args = input.split(\" \");\n    let commandName = args.splice(0, 1)[0];\n    if (this.commands.has(commandName)) {\n      let command = this.commands.get(commandName);\n      if (args[0] == \"help\") {\n        if (command.help !== undefined) {\n          return replaceLineBreak(command.help);\n        } else {\n          return \"The author is lazy. He didn't provide any help string...<br>\";\n        }\n      } else {\n        if (command.callback) {\n          return command.callback(args);\n        } else {\n          return replaceLineBreak(command.text);\n        }\n      }\n    } else if (commandName.length === 0) {\n      return \"\";\n    } else {\n      return `Command not found: ${escapeHtml(commandName)}<br>`;\n    }\n  }\n}\n"],"names":["escapeHtml","unsafe","replace","replaceLineBreak","str","termDiv","username","hostname","this","cwd","commands","Map","self","addCommand","name","callback","getHelp","help","printed","document","addEventListener","event","key","input","slice","res","execCommand","getPrompt","length","print","getWelcomeMsg","innerHTML","wrapDiv","getCursor","scrollTop","scrollHeight","className","Array","from","map","join","cmd","undefined","text","Error","set","args","split","commandName","splice","has","command","get","getElementById"],"sourceRoot":""}